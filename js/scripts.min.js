function toggleMenu(){var e=document.querySelector(".navbar");e.classList.toggle("active")}function clearLocalStore(){window.localStorage.clear()}function Them(){alert("Đã thêm vào giỏ hàng")}function show_cart(){let e=0,o=document.getElementById("tbody");for(o.innerHTML=" ",e=0;e<localStorage.length;e++){let t=localStorage.key(e);if("Combo"==t||"Pepsi"==t||"BongNgo"==t)continue;let a=sectionFilm[t].Photo,i=sectionFilm[t].Name,n=sectionFilm[t].NgayXem,l=sectionFilm[t].Price,r=document.createElement("tr"),m="'"+t+"'";r.innerHTML='<td><img src="'+a+'" alt="" class = "Poster_Cart"></td> <td>'+i+'</td> <td><input type="number" name="" id="" min="1" max="10" value="1" step="1" onchange="TongTien()" class = "SLfilm"></td> <td>'+n+"</td> <td>"+l+',000 Đồng</td><td><i class="fa-solid fa-trash" onclick="deleteCart('+m+')"></i></td>',o.appendChild(r)}let t=document.getElementsByClassName("Mon");t[0].value=localStorage.getItem("BongNgo"),t[1].value=localStorage.getItem("Pepsi"),t[2].value=localStorage.getItem("Combo"),TongTien()}function Cap_Nhat_Value_MonAn(e,o){0==e?window.localStorage.setItem("BongNgo",o.value):1==e?window.localStorage.setItem("Pepsi",o.value):window.localStorage.setItem("Combo",o.value),show_cart()}function deleteCart(e){console.log("Chay"),null!=window.localStorage.getItem(e)&&(window.localStorage.removeItem(e),console.log("Da Xoa "+e),show_cart(e))}function add_cart_mobile(e,o){add_cart(e)}function add_cart(e){window.localStorage.setItem("BongNgo",0),window.localStorage.setItem("Pepsi",0),window.localStorage.setItem("Combo",0),null==window.localStorage.getItem(e)?(window.localStorage.setItem(e,1),Them(),console.log("da them")):(console.log("da co"),alert("Phim Đã Có Trong Giỏ Hàng"))}function TongTien(){let e,o=0,t=document.getElementsByClassName("SLfilm");for(e=0;e<localStorage.length;e++){let a=localStorage.key(e),i=0;"Combo"!=a&&"Pepsi"!=a&&"BongNgo"!=a&&(o+=sectionFilm[a].Price*t[i].value,i++)}let a,i=document.getElementsByClassName("Mon"),n=50*i[0].value,l=15*i[1].value,r=59*i[2].value;a=n+l+r;let m=o+a,c=document.getElementById("ThanhTien");c.innerHTML="<h5>Tổng Tiền: "+m+",000 Đồng</h5>"}function dathang(){alert("Đặt hàng thành công")}function changeHeartColor(e){"red"==e.style.color?e.style.color="black":e.style.color="red"}function selectTypeOfFilm(){let e,o,t=document.getElementsByClassName("aSectionPhim");for(e=0;e<t.length;e++)t[e].style.display="none";let a=document.getElementById("The_Loai"),i=document.getElementById("thoi_luong"),n=a.value,l=i.value;console.log(n),console.log(l);let r=0;for(e=0;e<t.length;e++){let a=t[e].classList,i=!1,m=!1;for("All"===n&&(i=!0),"All_thoiluong"===l&&(m=!0),o=0;o<a.length;o++)!1===i&&(i=a[o]===n),!1===m&&(m=a[o]===l),i&&m&&(t[e].style.display="",r++)}if(0==r)for(alert("Xin Lỗi Phim Theo Yêu Cầu Của Bạn Hiện Đang Không Có"),e=0;e<t.length;e++)t[e].style.display=""}function isNumber(e){var o=e.which||e.keyCode;return!(o<48||o>57)}function isRequired(e){var o=e.parentElement.querySelector(".error-mess");0==e.value.length&&(e.classList.add("invalid"),o.innerText="*Vui lòng nhập trường này!!!")}function clearError(e){var o=e.parentElement.querySelector(".error-mess");e.classList.remove("invalid"),o.innerText=" "}function showError(e,o){var t=e.parentElement.querySelector(".error-mess");e.classList.add("invalid"),t.innerText=o}function formValidate(){var e=document.querySelector("#frm"),o=document.querySelector("#user-name"),t=document.querySelector("#email"),a=document.querySelector("#phone-number"),i=document.querySelector("#birth-day"),n=document.querySelector("#password"),l=document.querySelector("#confirm-password"),r=!0;o.value.length<3||o.value.length>20?(showError(o,"*Tên tài khoản phải từ 3-20 ký tự."),r=!1):clearError(o);var m=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;m.test(t.value)?clearError(t):(showError(t,"*Email không hợp lệ."),r=!1);var c=/(84|0[3|5|7|8|9])+([0-9]{8})\b/g;c.test(a.value)?clearError(a):(showError(a,"*Số điện thoại không hợp lệ"),r=!1);var g=new Date(i.value),s=new Date;isNaN(g)||g>=s?(showError(i,"*Ngày sinh không hợp lệ."),r=!1):clearError(i);var h=/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{8,}$/;h.test(n.value)?clearError(n):(showError(n,"*Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường và số."),r=!1),l.value!==n.value?(showError(l,"*Mật khẩu xác nhận không khớp."),r=!1):clearError(l),r&&e.submit()}$(document).ready(function(){$(".slick-carousel").slick({dots:!0,arrows:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3})});let sectionFilm={phim_1:{id:"A1",Name:"Na Tra Ma Đồng Giáng Thế",Price:99,Photo:"images/phim1.jpg",NgayXem:"07-03-2025"},phim_2:{id:"A2",Name:"Nobita's Sky Utopia in Hindi",Price:95,Photo:"images/phim2.jpg",NgayXem:"07-03-2025"},phim_3:{id:"A3",Name:"Đào, phở và piano",Price:73,Photo:"images/phim3.jpg",NgayXem:"07-03-2025"},phim_4:{id:"A4",Name:"Nữ Tu Bóng Tối",Price:85,Photo:"images/phim4.jpg",NgayXem:"07-03-2025"},phim_5:{id:"A5",Name:"Cá Sấu Tử Thần",Price:79,Photo:"images/phim5.jpg",NgayXem:"07-03-2025"},phim_6:{id:"A6",Name:"Kẻ Ăn Hồn",Price:79,Photo:"images/phim6.jpg",NgayXem:"07-03-2025"},phim_7:{id:"A7",Name:"Breaking Bad",Price:150,Photo:"images/phim7.jpg",NgayXem:"07-03-2025"},phim_8:{id:"A8",Name:"Cuộc Đào Tẩu Trên Không",Price:99,Photo:"images/phim8.jpg",NgayXem:"07-03-2025"},phim_9:{id:"A9",Name:"Shin Cậu Bé Bút Chì",Price:99,Photo:"images/phim9.jpg",NgayXem:"07-03-2025"},phim_10:{id:"A10",Name:"Quỷ Nhập Tràng",Price:99,Photo:"images/phim10.jpg",NgayXem:"07-03-2025"},phim_11:{id:"A11",Name:"Nàng Bạch Tuyết",Price:99,Photo:"images/phim11.jpg",NgayXem:"07-03-2025"},phim_12:{id:"A2",Name:"Venom The Last Dance",Price:99,Photo:"images/phim12.jpg",NgayXem:"07-03-2025"},phim_13:{id:"A3",Name:"Bộ Phim Về MineCraft",Price:99,Photo:"images/phim13.jpg",NgayXem:"07-03-2025"},phim_14:{id:"A14",Name:"Phim Xì Trum",Price:99,Photo:"images/phim14.jpg",NgayXem:"07-03-2025"},phim_15:{id:"A15",Name:"Bí Kiếp Luyện Rồng",Price:99,Photo:"images/phim15.jpg",NgayXem:"07-03-2025"}},List_Do_An={BongNgo:{SoLuong:0,Gia:50},Pepsi:{SoLuong:0,Gia:15},Combo:{SoLuong:0,Gia:59}};var inputs=document.querySelectorAll(".need-validate");inputs.forEach(function(e){e.addEventListener("blur",function(){isRequired(this)}),e.addEventListener("focus",function(){clearError(this)})});